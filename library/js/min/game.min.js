function nextMove(){var e=Math.random()*(window.innerWidth-230)+75,o=2*Phaser.Timer.SECOND;storyPositionArrow=game.add.sprite(e,5,"arrow");var t=game.add.tween(storyPositionArrow);t.to({alpha:0},o,Phaser.Easing.Quadratic.In),t.onComplete.add(function(){storyPositionArrow.destroy()}),t.start(),game.time.events.add(o,dropStory,this,e)}function dropStory(e){void 0==e&&(e=Math.random()*(window.innerWidth-230)+75),debugText.text="xPos: "+e,currentStory=gameObjects.create(e,0,"story"),game.physics.p2.enable(currentStory,!1),currentStory.body.data.gravityScale=25,currentStory.body.setRectangle(153,66),currentStory.body.setCollisionGroup(staticObjectsCollisionGroup),currentStory.body.collides([staticObjectsCollisionGroup,gameObjectsCollisionGroup]),game.physics.p2.updateBoundsCollisionGroup()}function storyCollision(e){null!=e&&(console.log(e),("base"==e.sprite.key||"story"==e.sprite.key)&&(this.body.onBeginContact.remove(storyCollision),nextMove()))}var background,ground,base,cursors,gameObjects,storyPositionArrow,currentStory,gameObjectsCollisionGroup,staticObjectsCollisionGroup,debugText,FRICTION=150,GRAVITY=200,BASE_SPEED=250,game=new Phaser.Game(window.innerWidth,window.innerHeight,Phaser.AUTO,"",{preload:function(){game.load.image("base","library/assets/images/base.png"),game.load.image("story","library/assets/images/story.png"),game.load.image("ground","library/assets/images/ground.png"),game.load.image("block","library/assets/images/block.png"),game.load.image("arrow","library/assets/images/arrow.png")},create:function(){game.physics.startSystem(Phaser.Physics.P2JS),game.physics.p2.setImpactEvents(!0),game.physics.p2.gravity.y=GRAVITY,game.physics.p2.restitution=0,game.physics.p2.friction=FRICTION,gameObjectsCollisionGroup=game.physics.p2.createCollisionGroup(),staticObjectsCollisionGroup=game.physics.p2.createCollisionGroup();var e=5*this.game.height,o=this.game.add.bitmapData(this.game.width,e),t=o.context.createLinearGradient(0,0,0,e);t.addColorStop(0,"black"),t.addColorStop(.3,"#00173B"),t.addColorStop(.6,"#5477A3"),t.addColorStop(1,"#75CED6"),o.context.fillStyle=t,o.context.fillRect(0,0,this.game.width,e),background=this.game.add.sprite(0,window.innerHeight-e,o),ground=this.game.add.tileSprite(0,window.innerHeight-75,window.innerWidth,150,"ground"),gameObjects=this.game.add.group(),gameObjects.enableBody=!0,gameObjects.physicsBodyType=Phaser.Physics.P2JS,base=gameObjects.create(window.innerWidth/2,window.innerHeight-135,"base"),game.physics.p2.enable(base,!1),base.body.landed=!0,base.body.setRectangle(199,122),base.body["static"]=!0,base.body.setCollisionGroup(gameObjectsCollisionGroup),base.body.collides(staticObjectsCollisionGroup),this.game.add.button(window.innerWidth-40,10,"block",nextMove),cursors=game.input.keyboard.createCursorKeys(),debugText=this.game.add.text(16,16,"score: 0",{fontSize:"12px",fill:"#000"}),nextMove()},update:function(){cursors.left.isDown?base.body.velocity.x=-BASE_SPEED:cursors.right.isDown?base.body.velocity.x=BASE_SPEED:base.body.velocity.x=0},animateCamera:function(){}});
var PhaserBp={};PhaserBp.Boot=function(t){console.log("Boot State Initiated")},PhaserBp.Boot.prototype={create:function(){this.input.maxPointers=1,this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.minHeight=800,this.scale.minWidth=600,this.scale.pageAlignHorizontally=!0,this.scale.pageAlignVertically=!0,this.stage.forcePortrait=!1,this.input.addPointer(),this.stage.backgroundColor="#111111",this.state.start("Preload")}};
PhaserBp.Game=function(e){console.log("Game State Initiated")},PhaserBp.Game.prototype={create:function(){this.add.sprite(368,268,"renderTest")},update:function(){}};
PhaserBp.Preload=function(e){console.log("Load State Initiated")},PhaserBp.Preload.prototype={preload:function(){this.load.image("renderTest","library/assets/images/min/megaman.png")},create:function(){},update:function(){this.state.start("Game")}};